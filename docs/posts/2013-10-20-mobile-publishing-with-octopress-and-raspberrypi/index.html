<h3 id="preamble" tabindex="-1">Preamble</h3><a class="direct-link" href="#preamble"><span class="visually-hidden">Permalink to “Preamble”</span> <span aria-hidden="true"></span></a><p>A few weeks ago <a href="http://www.scriptogr.am" target="_blank" rel="noopener noreferrer">scriptogr.am</a> decided to suddenly change how their Markdown processor worked, making any HTML embedded in the Markdown posts worthless, among other things. So I woke up that my 2-readers-blog was looking like s**t, with content not being displayed[1], all because of the changes <a href="http://www.scriptogr.am" target="_blank" rel="noopener noreferrer">scriptogr.am</a> did without any warning before.</p><p>These actions triggered some <a href="https://twitter.com/alexchiri/status/379219465529229312" target="_blank" rel="noopener noreferrer">tweets to be sent</a>, although I was already decided to move from <a href="http://www.scriptogr.am" target="_blank" rel="noopener noreferrer">scriptogr.am</a>, angry with the time they made me waste.</p><h3 id="strike_1" tabindex="-1">Strike 1</h3><a class="direct-link" href="#strike_1"><span class="visually-hidden">Permalink to “Strike 1”</span> <span aria-hidden="true"></span></a><p>My first attempt was to go to <a href="http://www.calepin.co" target="_blank" rel="noopener noreferrer">calepin.co</a> which is very similar with <a href="http://www.scriptogr.am" target="_blank" rel="noopener noreferrer">scriptogr.am</a>, so the transition was very easy. BUT, they only supported CNAME records for custom domains which terminated my MX records, so bye-bye mail for a few hours until I noticed[2].</p><h3 id="break" tabindex="-1">Break</h3><a class="direct-link" href="#break"><span class="visually-hidden">Permalink to “Break”</span> <span aria-hidden="true"></span></a><p>Moved back to <a href="http://www.scriptogr.am" target="_blank" rel="noopener noreferrer">scriptogr.am</a>, until I found a different solution. In the meantime they fixed the HTML and other Markdown issues people reported. So theoretically, I had no reason to move, until their next update, that is.</p><h3 id="octopress" tabindex="-1">Octopress</h3><a class="direct-link" href="#octopress"><span class="visually-hidden">Permalink to “Octopress”</span> <span aria-hidden="true"></span></a><p>I remembered reading on <a href="http://www.ronnylam.nl/blog/2013/02/03/octopress-and-heroku" target="_blank" rel="noopener noreferrer">Ronny's blog</a>, how he moved from <a href="http://www.scriptogr.am" target="_blank" rel="noopener noreferrer">scriptogr.am</a> to using <a href="http://octopress.org/" target="_blank" rel="noopener noreferrer">Octopress</a> hosted on <a href="http://heroku.com" target="_blank" rel="noopener noreferrer">Heroku</a>. He uses also a <a href="http://www.raspberrypi.org/" target="_blank" rel="noopener noreferrer">RaspberryPi</a> to compile and publish his <a href="http://www.ronnylam.nl" target="_blank" rel="noopener noreferrer">blog</a>. Initially seemed a lot of overhead to do it this way, but hey, he's independent of any changes a service like <a href="http://www.scriptogr.am" target="_blank" rel="noopener noreferrer">scriptogr.am</a> would decide to do.</p><p>So I did the same. I chose to have a CNAME record for <code>www.alexchiri.com</code> that points to <a href="http://heroku.com" target="_blank" rel="noopener noreferrer">Heroku</a> and a REDIRECT from <code>alexchiri.com</code> to <code>www.alexchiri.com</code>. This way I had a custom domain and MX records, as <a href="http://heroku.com" target="_blank" rel="noopener noreferrer">Heroku</a> doesn't support A records.</p><p>But there was still something missing...</p><h3 id="publishing_from_an_ipad" tabindex="-1">Publishing from an iPad</h3><a class="direct-link" href="#publishing_from_an_ipad"><span class="visually-hidden">Permalink to “Publishing from an iPad”</span> <span aria-hidden="true"></span></a><p>The plan is to edit my article on my iPad, upload it to the <a href="http://www.raspberrypi.org/" target="_blank" rel="noopener noreferrer">RaspberryPi</a>, generate static site and publish to <a href="http://heroku.com" target="_blank" rel="noopener noreferrer">Heroku</a>.</p><h4 id="step_1_sftp" tabindex="-1">Step 1: SFTP</h4><a class="direct-link" href="#step_1_sftp"><span class="visually-hidden">Permalink to “Step 1: SFTP”</span> <span aria-hidden="true"></span></a><p>Setting up SFTP on a Debian is quite easy, you can find a <a href="http://devtidbits.com/2011/06/29/implement-a-sftp-service-for-ubuntudebian-with-a-chrooted-isolated-file-directory/" target="_blank" rel="noopener noreferrer">tutorial</a> online. Set up on a group and user which can only access SFTP and restricted to a certain folder.</p><h4 id="step_2_forward_ports_from_the_router_to_the_raspberrypi" tabindex="-1">Step 2: Forward ports from the router to the <a href="http://www.raspberrypi.org/" target="_blank" rel="noopener noreferrer">RaspberryPi</a></h4><a class="direct-link" href="#step_2_forward_ports_from_the_router_to_the_raspberrypi"><span class="visually-hidden">Permalink to “Step 2: Forward ports from the router to the RaspberryPi”</span> <span aria-hidden="true"></span></a><p>In order to be able to connect to SSH I needed to map a port from the exterior to be redirected to my SSH port from the RasPi. And yes, I changed the default port.</p><h4 id="step_3_dynamic_dns" tabindex="-1">Step 3: Dynamic DNS</h4><a class="direct-link" href="#step_3_dynamic_dns"><span class="visually-hidden">Permalink to “Step 3: Dynamic DNS”</span> <span aria-hidden="true"></span></a><p>Considering my <a href="http://www.raspberrypi.org/" target="_blank" rel="noopener noreferrer">RaspberryPi</a> sits in my living room and I don't have a dedicated IP for my internet connection, I needed some sort of dynamic DNS. I found an <a href="http://gianpaj.com/post/34222308317/raspberry-pi-with-cloudflares-dynamic-dns-ddclient" target="_blank" rel="noopener noreferrer">article</a> about <a href="https://www.cloudflare.com/" target="_blank" rel="noopener noreferrer">CloudFlare</a> and <a href="http://www.raspberrypi.org/" target="_blank" rel="noopener noreferrer">RaspberryPi</a> and used that solution.</p><h4 id="next_steps" tabindex="-1">Next steps</h4><a class="direct-link" href="#next_steps"><span class="visually-hidden">Permalink to “Next steps”</span> <span aria-hidden="true"></span></a><p>In this configuration, I edit my article with <a href="http://omz-software.com/editorial/" target="_blank" rel="noopener noreferrer">Editorial</a> and upload it to my <a href="http://www.raspberrypi.org/" target="_blank" rel="noopener noreferrer">RaspberryPi</a> with <a href="http://www.ifilesapp.com" target="_blank" rel="noopener noreferrer">iFiles</a>. Afterwards, I connect with <a href="http://www.zinger-soft.com/support_p_1.html" target="_blank" rel="noopener noreferrer">iSSH </a>and generate the static blog and publish. The last step I have in mind is to automate the last bit. To have a daemon watch the folder where the posts are uploaded and execute a script when the content of the folder is changed.</p><p>But I leave this for another day, as there are plenty of other things to do.</p><ol><li>Some time ago I started adding anchors like this one and I started using &lt;img&gt; tags to be able to add links on thumbnails inside posts. Starting with that Sunday update, anchors and HTML were not transformed anymore, being displayed like raw text. ↩</li><li>Yeah, I'm not that great at networking, had no clue that you can't have CNAME records and MX at the same level. ↩</li></ol>